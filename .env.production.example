# ============================================================================
# WATHACI CONNECT - Production Environment Configuration Template
# ============================================================================
# Copy this file to .env.production and replace placeholder values with your
# actual production credentials before deploying.
#
# IMPORTANT: Never commit the actual .env.production file to version control!
# ============================================================================

# --- Database / Supabase configuration ---
# Your Supabase project URL (from Supabase dashboard -> Settings -> API)
SUPABASE_URL="https://your-project-ref.supabase.co"

# Service role key with elevated privileges (keep secret, never expose in frontend)
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-from-supabase-dashboard"

# JWT secret for token validation (from Supabase dashboard -> Settings -> API)
SUPABASE_JWT_SECRET="your-jwt-secret-from-supabase-dashboard"

# Connection strings (used by Supabase local tooling / Prisma migrations)
# Update 'your-project-ref' and 'your-db-password' with your actual values
POSTGRES_URL="postgres://postgres.your-project-ref:your-db-password@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&project=supa-base-pooler"
POSTGRES_URL_NON_POOLING="postgres://postgres.your-project-ref:your-db-password@aws-0-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require"
POSTGRES_PRISMA_URL="postgres://postgres.your-project-ref:your-db-password@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&pgbouncer=true"
POSTGRES_USER="postgres"
POSTGRES_PASSWORD="your-db-password"
POSTGRES_HOST="db.your-project-ref.supabase.co"
POSTGRES_DATABASE="postgres"

# --- Frontend (Vite) configuration ---
# These VITE_* variables are embedded in the frontend build at build time
VITE_SUPABASE_URL="https://your-project-ref.supabase.co"

# Public anon key (safe to expose in frontend, protected by Row Level Security)
VITE_SUPABASE_KEY="your-anon-key-from-supabase-dashboard"

# Canonical anon key for Supabase client integrations (recommended name)
VITE_SUPABASE_ANON_KEY="your-anon-key-from-supabase-dashboard"

# Optional aliases supported by the build tooling (uncomment if needed)
# VITE_SUPABASE_PROJECT_URL="https://your-project-ref.supabase.co"
# VITE_SUPABASE_ANON_KEY="your-anon-key-from-supabase-dashboard"

# Backend API configuration
# ⚠️ IMPORTANT: Update this to point to your live backend API before production deployment
# Production Backend URL:
#   - Vercel: https://wathaci-connect-platform2.vercel.app
VITE_API_BASE_URL="https://wathaci-connect-platform2.vercel.app"

# CORS allowed origins for backend API (comma-separated list)
# Include all frontend URLs that will make API requests
CORS_ALLOWED_ORIGINS="https://www.wathaci.com,https://wathaci-connect-platform.vercel.app,https://wathaci-connect-platform-amukenas-projects.vercel.app"

# Lenco Payment Gateway Configuration
# Get these from your Lenco dashboard (https://dashboard.lenco.co)
# For PRODUCTION: Use live keys (format: pub-[hex] or pk_live_[string])
# For TESTING: Use test keys (format: pk_test_[string])
VITE_LENCO_PUBLIC_KEY="your-lenco-public-key-from-dashboard"
LENCO_SECRET_KEY="your-lenco-secret-key-from-dashboard"
LENCO_WEBHOOK_SECRET="your-lenco-webhook-secret-from-dashboard"
VITE_LENCO_API_URL="https://api.lenco.co/access/v2"

# Webhook URL for payment notifications (must be HTTPS in production)
VITE_LENCO_WEBHOOK_URL="https://your-project-ref.supabase.co/functions/v1/lenco-payments-validator"

# Payment Configuration
# Currency code for payments (ISO 4217)
VITE_PAYMENT_CURRENCY="ZMW"

# Country code for payments (ISO 3166-1 alpha-2)
VITE_PAYMENT_COUNTRY="ZM"

# Platform fee as a percentage (e.g., "10" for 10%)
VITE_PLATFORM_FEE_PERCENTAGE="10"

# Minimum payment amount (in minor units, e.g., "0" for 0.00 ZMW)
VITE_MIN_PAYMENT_AMOUNT="0"

# Maximum payment amount (in minor units, e.g., "50000" for 500.00 ZMW)
VITE_MAX_PAYMENT_AMOUNT="50000"

# Application Environment
# Set to "production" for production deployments
VITE_APP_ENV="production"

# Application name displayed in the UI
VITE_APP_NAME="WATHACI CONNECT"

# --- Email / SMTP Configuration ---
# SMTP settings for email delivery via PrivateEmail (Namecheap)
# Used by Supabase for sending authentication and transactional emails
SMTP_HOST="mail.privateemail.com"
SMTP_PORT="465"
SMTP_SECURE="true" # true for port 465, false for 587
SMTP_USERNAME="support@wathaci.com"
SMTP_USER="support@wathaci.com" # Legacy compatibility
SMTP_AUTH_METHOD="LOGIN"
SMTP_PASSWORD="your-smtp-password-from-namecheap"
FROM_EMAIL="support@wathaci.com"
REPLY_TO_EMAIL="support@wathaci.com"
SMTP_FROM_EMAIL="support@wathaci.com"
SMTP_FROM_NAME="Wathaci"
EMAIL_PROVIDER="SMTP"

# Email configuration for Supabase
SUPABASE_SMTP_ADMIN_EMAIL="support@wathaci.com"
SUPABASE_SMTP_SENDER_NAME="Wathaci"

# Email Confirmation Redirect URLs
# URL to redirect users after they click the email confirmation link
# For production, use your actual domain
VITE_EMAIL_CONFIRMATION_REDIRECT_URL="https://www.wathaci.com/signin"
# Alternative: use a path-only redirect (will use the app's base URL)
# VITE_EMAIL_CONFIRMATION_REDIRECT_PATH="/signin"

# Application Base URL (used to construct absolute redirect URLs)
VITE_APP_BASE_URL="https://www.wathaci.com"
VITE_SITE_URL="https://www.wathaci.com"

# --- Twilio Configuration (OTP via SMS & WhatsApp) ---
# Configure these to enable OTP verification via SMS and WhatsApp
# Get credentials from: https://console.twilio.com
# IMPORTANT: Use production credentials for live SMS/WhatsApp delivery

# Twilio Account SID (from Twilio Console → Account Info)
TWILIO_ACCOUNT_SID="your-twilio-account-sid"

# Twilio Auth Token (from Twilio Console → Account Info)
TWILIO_AUTH_TOKEN="your-twilio-auth-token"

# Twilio Phone Number for SMS (E.164 format)
# From: Twilio Console → Phone Numbers → Active Numbers
TWILIO_PHONE_NUMBER="+260XXXXXXXXX"

# Twilio WhatsApp-enabled Number (format: whatsapp:+260XXXXXXXXX)
# From: Twilio Console → Messaging → Senders → WhatsApp Senders
# Note: WhatsApp requires business verification for production use
TWILIO_WHATSAPP_FROM="whatsapp:+260XXXXXXXXX"
