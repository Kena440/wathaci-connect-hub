# ============================================================================
# WATHACI CONNECT - Environment Variables Template
# ============================================================================
# 
# This template provides all environment variables needed for the Wathaci
# platform, with special focus on email configuration.
#
# USAGE:
#   1. Copy this file to .env.local for local development
#   2. Copy this file to .env.production for production (do NOT commit)
#   3. Replace all placeholder values with actual credentials
#   4. Never commit files containing real credentials to version control
#
# SECURITY:
#   - Keep .env.local and .env.production in .gitignore
#   - Store production secrets in Vercel/hosting environment variables
#   - Store SMTP credentials in Supabase dashboard (not in Vercel)
#   - Rotate credentials regularly (quarterly recommended)
#
# ============================================================================

# ============================================================================
# CORE SUPABASE CONFIGURATION
# ============================================================================

# Supabase Project URL
# Location: Supabase Dashboard → Settings → API → Project URL
# Example: https://nrjcbdrzaxqvomeogptf.supabase.co
SUPABASE_URL="https://your-project-ref.supabase.co"

# Supabase Service Role Key (BACKEND ONLY - Never expose to frontend)
# Location: Supabase Dashboard → Settings → API → service_role (secret)
# Warning: This key bypasses Row Level Security - keep secure!
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# Supabase JWT Secret (for token validation)
# Location: Supabase Dashboard → Settings → API → JWT Secret
# Optional for development, recommended for production
SUPABASE_JWT_SECRET="your-jwt-secret-here"

# ============================================================================
# FRONTEND (VITE) CONFIGURATION
# ============================================================================
# These variables are prefixed with VITE_ and are embedded in the frontend
# build at build time. They are safe to expose publicly.

# Supabase URL for frontend
# Must match SUPABASE_URL above
VITE_SUPABASE_URL="https://your-project-ref.supabase.co"

# Supabase Anonymous Key (PUBLIC - Safe to expose)
# Location: Supabase Dashboard → Settings → API → anon public
# Protected by Row Level Security policies
VITE_SUPABASE_KEY="your-anon-key-here"

# Canonical anon key name (recommended by Supabase)
# Use the same value as VITE_SUPABASE_KEY above
VITE_SUPABASE_ANON_KEY="your-anon-key-here"

# Optional project URL alias (uncomment if needed)
# VITE_SUPABASE_PROJECT_URL="https://your-project-ref.supabase.co"

# ============================================================================
# BACKEND API CONFIGURATION
# ============================================================================

# Backend API Base URL
# Development: Point to localhost
# Production: Point to your deployed backend
VITE_API_BASE_URL="http://localhost:3000"
# Production example:
# VITE_API_BASE_URL="https://api.wathaci.com"

# ============================================================================
# EMAIL / SMTP CONFIGURATION
# ============================================================================
# 
# IMPORTANT: SMTP credentials should be configured in Supabase Dashboard,
# not as environment variables in Vercel!
#
# Configuration Location:
#   Supabase Dashboard → Settings → Authentication → SMTP Settings
#
# For local development only, you can use these variables with local Supabase:

# SMTP Host (PrivateEmail/Namecheap)
# Value: mail.privateemail.com
SMTP_HOST="mail.privateemail.com"

# SMTP Port
# PrivateEmail uses port 465 (SSL/TLS)
SMTP_PORT="465"

# SMTP Username (your platform email)
# This is the email address that will send all emails
SMTP_USER="support@wathaci.com"

# SMTP Password
# SECURITY: This should ONLY be set in:
#   1. Local .env.local (for local Supabase development)
#   2. Supabase Dashboard SMTP settings (for production)
# NEVER commit this password or add to Vercel environment variables
SMTP_PASSWORD="your-privateemail-password-here"

# Email "From" address
# Must match SMTP_USER and be verified in PrivateEmail
SMTP_FROM_EMAIL="support@wathaci.com"

# Email "From" name (sender display name)
SMTP_FROM_NAME="Wathaci"

# Supabase SMTP admin email (same as from email)
SUPABASE_SMTP_ADMIN_EMAIL="support@wathaci.com"

# Supabase SMTP sender name
SUPABASE_SMTP_SENDER_NAME="Wathaci"

# ============================================================================
# PAYMENT GATEWAY CONFIGURATION (LENCO)
# ============================================================================

# Lenco Public Key (Frontend - Safe to expose)
# Development: Use test key (format: pub-test-[hex] or pk_test_[string])
# Production: Use live key (format: pub-[64-char-hex] or pk_live_[string])
# Location: Lenco Dashboard → API Keys
VITE_LENCO_PUBLIC_KEY="your-lenco-public-key-here"

# Lenco Secret Key (Backend only - KEEP SECRET)
# Location: Lenco Dashboard → API Keys
# Never expose to frontend
LENCO_SECRET_KEY="your-lenco-secret-key-here"

# Lenco Webhook Secret (for validating webhook signatures)
# Location: Lenco Dashboard → Webhooks
LENCO_WEBHOOK_SECRET="your-lenco-webhook-secret-here"

# Lenco API Base URL (same for dev and prod)
VITE_LENCO_API_URL="https://api.lenco.co/access/v2"

# Lenco Webhook URL (where Lenco sends payment notifications)
# Development: Use ngrok or similar for local testing
# Production: Must be HTTPS endpoint
VITE_LENCO_WEBHOOK_URL="https://your-project-ref.supabase.co/functions/v1/lenco-payments-validator"

# ============================================================================
# PAYMENT CONFIGURATION
# ============================================================================

# Currency code (ISO 4217 standard)
# ZMW = Zambian Kwacha
VITE_PAYMENT_CURRENCY="ZMW"

# Country code (ISO 3166-1 alpha-2 standard)
# ZM = Zambia
VITE_PAYMENT_COUNTRY="ZM"

# Platform fee percentage
# Example: "10" = 10% platform fee
VITE_PLATFORM_FEE_PERCENTAGE="10"

# Minimum payment amount (in minor units)
# Example: "0" = 0.00 ZMW (no minimum)
VITE_MIN_PAYMENT_AMOUNT="0"

# Maximum payment amount (in minor units)
# Example: "50000" = 500.00 ZMW
VITE_MAX_PAYMENT_AMOUNT="50000"

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Application environment
# Options: "development", "staging", "production"
VITE_APP_ENV="development"

# Application name (displayed in UI)
VITE_APP_NAME="WATHACI CONNECT"

# ============================================================================
# DATABASE CONNECTION (Advanced - Usually not needed)
# ============================================================================
# These are typically only needed for direct database access or migrations.
# Supabase client handles connections automatically in most cases.

# PostgreSQL connection URL with pooling
# POSTGRES_URL="postgres://postgres.[password]@[host]:6543/postgres?sslmode=require"

# PostgreSQL connection URL without pooling (direct connection)
# POSTGRES_URL_NON_POOLING="postgres://postgres.[password]@[host]:5432/postgres?sslmode=require"

# PostgreSQL connection URL for Prisma with pgbouncer
# POSTGRES_PRISMA_URL="postgres://postgres.[password]@[host]:6543/postgres?sslmode=require&pgbouncer=true"

# Individual PostgreSQL connection parameters
# POSTGRES_USER="postgres"
# POSTGRES_PASSWORD="your-postgres-password"
# POSTGRES_HOST="db.your-project-ref.supabase.co"
# POSTGRES_DATABASE="postgres"

# ============================================================================
# OPTIONAL: EXTERNAL INTEGRATIONS
# ============================================================================

# OpenAI API Key (for Supabase AI features in Studio)
# Only needed if using AI features in Supabase Studio
# OPENAI_API_KEY="sk-your-openai-api-key"

# ============================================================================
# OPTIONAL: S3 STORAGE (OrioleDB - Experimental)
# ============================================================================
# Only needed if using experimental OrioleDB with S3

# S3_HOST="your-bucket.s3-region.amazonaws.com"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY="your-aws-access-key"
# S3_SECRET_KEY="your-aws-secret-key"

# ============================================================================
# OPTIONAL: SMS/TWILIO (if using SMS authentication)
# ============================================================================
# Only needed if enabling SMS-based authentication

# SUPABASE_AUTH_SMS_TWILIO_AUTH_TOKEN="your-twilio-auth-token"

# ============================================================================
# OPTIONAL: OAUTH PROVIDERS (if using social login)
# ============================================================================
# Only needed if enabling OAuth providers like Google, GitHub, etc.

# Apple OAuth
# SUPABASE_AUTH_EXTERNAL_APPLE_SECRET="your-apple-oauth-secret"

# Google OAuth
# SUPABASE_AUTH_EXTERNAL_GOOGLE_SECRET="your-google-oauth-secret"

# GitHub OAuth
# SUPABASE_AUTH_EXTERNAL_GITHUB_SECRET="your-github-oauth-secret"

# ============================================================================
# NOTES FOR DIFFERENT ENVIRONMENTS
# ============================================================================

# --- LOCAL DEVELOPMENT ---
# File: .env.local
# - Use development Supabase project OR local Supabase
# - Point VITE_API_BASE_URL to localhost:3000
# - SMTP_PASSWORD can be set for local Supabase testing
# - Use Lenco test keys
# - Emails will be captured by Inbucket (http://localhost:54324)

# --- STAGING ---
# File: .env.staging (or set in hosting platform)
# - Use staging Supabase project (if separate)
# - Point VITE_API_BASE_URL to staging backend
# - Configure SMTP in Supabase dashboard
# - Use Lenco test keys
# - Test with real email delivery

# --- PRODUCTION ---
# File: .env.production (or set in hosting platform)
# - Use production Supabase project
# - Point VITE_API_BASE_URL to production backend
# - Configure SMTP in Supabase dashboard (NOT in env vars)
# - Use Lenco live keys
# - All emails sent to real addresses
# - CRITICAL: Never commit this file!

# ============================================================================
# WHERE TO SET THESE VARIABLES
# ============================================================================

# LOCAL DEVELOPMENT:
#   Create .env.local file in project root
#   Copy this template and fill in values
#   File is gitignored automatically

# VERCEL (or similar hosting):
#   Dashboard → Your Project → Settings → Environment Variables
#   Add each VITE_* variable for each environment:
#     - Production
#     - Preview
#     - Development
#   DO NOT add SMTP_PASSWORD (use Supabase dashboard instead)

# SUPABASE:
#   Dashboard → Settings → Authentication → SMTP Settings
#   Enter SMTP credentials directly in dashboard
#   Credentials stored securely by Supabase
#   DO NOT use environment variables for production SMTP

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================

# Before deploying, verify:
# [ ] .env.local and .env.production are in .gitignore
# [ ] No secrets committed to version control
# [ ] Production secrets set in Vercel (VITE_* only)
# [ ] SMTP credentials set in Supabase dashboard
# [ ] Service role key never exposed to frontend
# [ ] Strong passwords used (16+ characters)
# [ ] Credentials rotated regularly (quarterly)
# [ ] Access to credentials limited to authorized team only

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# Environment variables not loading:
#   - Ensure file is named exactly .env.local (not .env.local.txt)
#   - Restart development server after changes
#   - Check for typos in variable names
#   - Ensure no extra spaces around = sign

# VITE_ variables not available in frontend:
#   - Only VITE_ prefixed variables are exposed to frontend
#   - Must rebuild after changing VITE_ variables
#   - Use import.meta.env.VITE_VARIABLE_NAME in code

# SMTP not working:
#   - For local: Check SMTP_PASSWORD in .env.local
#   - For production: Check Supabase dashboard SMTP settings
#   - Verify credentials with PrivateEmail
#   - Check Supabase logs for SMTP errors

# ============================================================================
# SUPPORT
# ============================================================================

# For help with environment configuration:
#   - Email: support@wathaci.com
#   - Help Center: https://wathaci.com/help
#   - Documentation: See EMAIL_SYSTEM_CONFIGURATION.md

# ============================================================================
# END OF TEMPLATE
# ============================================================================
