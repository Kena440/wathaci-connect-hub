# ============================================================================
# WATHACI CONNECT - Development Environment Configuration Template
# ============================================================================
# Copy this file to .env for local development and replace placeholder values
# with your actual development credentials.
#
# For production, use .env.production.example as a template instead.
#
# IMPORTANT: Never commit the actual .env file to version control!
# ============================================================================

# --- Database / Supabase configuration ---
# Your Supabase project URL (from Supabase dashboard -> Settings -> API)
# For local development, you can use your development/staging project
SUPABASE_URL="https://your-project-ref.supabase.co"

# Service role key with elevated privileges (keep secret, never expose in frontend)
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-from-supabase-dashboard"

# JWT secret for token validation (from Supabase dashboard -> Settings -> API)
# Optional in development, but recommended for testing auth flows
# SUPABASE_JWT_SECRET="your-jwt-secret-from-supabase-dashboard"

# --- Frontend (Vite) configuration ---
# These VITE_* variables are embedded in the frontend build at build time
VITE_SUPABASE_URL="https://your-project-ref.supabase.co"

# Public anon key (safe to expose in frontend, protected by Row Level Security)
VITE_SUPABASE_KEY="your-anon-key-from-supabase-dashboard"

# Canonical anon key for Supabase client integrations (recommended name)
# Use the same value as VITE_SUPABASE_KEY above
VITE_SUPABASE_ANON_KEY="your-anon-key-from-supabase-dashboard"

# Optional aliases supported by the build tooling (uncomment if needed)
# VITE_SUPABASE_PROJECT_URL="https://your-project-ref.supabase.co"

# Backend API configuration
# For local development, this typically points to localhost
VITE_API_BASE_URL="http://localhost:3000"
# For production deployments, set this to your hosted Express backend:
# VITE_API_BASE_URL="https://api.your-domain.com"

# Lenco Payment Gateway Configuration
# Get these from your Lenco dashboard (https://dashboard.lenco.co)
# For DEVELOPMENT: Use test keys (format: pk_test_[string] or pub-test-[hex])
# For PRODUCTION: Use live keys (format: pub-[64-char-hex] or pk_live_[string])
VITE_LENCO_PUBLIC_KEY="your-lenco-public-key-from-dashboard"

# Lenco secret key (for server-side use only, never expose in frontend)
LENCO_SECRET_KEY="your-lenco-secret-key-from-dashboard"

# Webhook secret for validating webhook signatures from Lenco
LENCO_WEBHOOK_SECRET="your-lenco-webhook-secret-from-dashboard"

# Lenco API base URL (production endpoint, same for dev and prod)
VITE_LENCO_API_URL="https://api.lenco.co/access/v2"

# Webhook URL for payment notifications
# Development: Can use ngrok or similar for local testing
# Production: Must be HTTPS endpoint on your server
VITE_LENCO_WEBHOOK_URL="https://your-project-ref.supabase.co/functions/v1/lenco-payments-validator"

# Payment Configuration
# Currency code for payments (ISO 4217 standard)
VITE_PAYMENT_CURRENCY="ZMW"

# Country code for payments (ISO 3166-1 alpha-2 standard)
VITE_PAYMENT_COUNTRY="ZM"

# Platform fee as a percentage (e.g., "10" for 10%)
VITE_PLATFORM_FEE_PERCENTAGE="10"

# Minimum payment amount (in minor units, e.g., "0" for 0.00 ZMW)
VITE_MIN_PAYMENT_AMOUNT="0"

# Maximum payment amount (in minor units, e.g., "50000" for 500.00 ZMW)
VITE_MAX_PAYMENT_AMOUNT="50000"

# Application Environment
# Set to "development" for local development
VITE_APP_ENV="development"

# Application name displayed in the UI
VITE_APP_NAME="WATHACI CONNECT"

# --- Auth Bypass Mode (TEMPORARY - DEV ONLY) ---
# TEMPORARY BYPASS MODE: remove after auth errors are fixed
# Enable bypass/fallback onboarding mode to allow sign-up, sign-in, and profile creation
# even when backend/auth/database errors occur. This is STRICTLY for development/debugging.
# Set to "true" to enable, "false" or leave empty to disable.
# IMPORTANT: This should NEVER be enabled in production!
VITE_AUTH_BYPASS_MODE_ENABLED="false"
AUTH_BYPASS_MODE_ENABLED="false"

# --- Email / SMTP Configuration ---
# SMTP settings for email delivery via PrivateEmail (Namecheap)
# Used by Supabase for sending authentication and transactional emails
SMTP_HOST="mail.privateemail.com"
SMTP_PORT="465"
SMTP_USER="support@wathaci.com"
SMTP_PASSWORD="your-smtp-password-from-namecheap"
SMTP_FROM_EMAIL="support@wathaci.com"
SMTP_FROM_NAME="Wathaci"

# Email configuration for Supabase
SUPABASE_SMTP_ADMIN_EMAIL="support@wathaci.com"
SUPABASE_SMTP_SENDER_NAME="Wathaci"

# Email Confirmation Redirect URLs
# URL to redirect users after they click the email confirmation link
# For local development, use localhost with the appropriate port
VITE_EMAIL_CONFIRMATION_REDIRECT_URL="http://127.0.0.1:3000/signin"
# Alternative: use a path-only redirect (will use the app's base URL)
# VITE_EMAIL_CONFIRMATION_REDIRECT_PATH="/signin"

# Application Base URL (used to construct absolute redirect URLs)
VITE_APP_BASE_URL="http://127.0.0.1:3000"
VITE_SITE_URL="http://127.0.0.1:3000"

# --- Twilio Configuration (OTP via SMS & WhatsApp) ---
# Configure these to enable OTP verification via SMS and WhatsApp
# Get credentials from: https://console.twilio.com

# Twilio Account SID (from Twilio Console → Account Info)
TWILIO_ACCOUNT_SID="your-twilio-account-sid-from-console"

# Twilio Auth Token (from Twilio Console → Account Info)
TWILIO_AUTH_TOKEN="your-twilio-auth-token-from-console"

# Twilio Phone Number for SMS (E.164 format, e.g., +12345678901)
# From: Twilio Console → Phone Numbers → Manage → Active Numbers
TWILIO_PHONE_NUMBER="+1234567890"

# Twilio WhatsApp-enabled Number (format: whatsapp:+1234567890)
# From: Twilio Console → Messaging → Try it out → WhatsApp
# Use Twilio Sandbox for testing: whatsapp:+14155238886
TWILIO_WHATSAPP_FROM="whatsapp:+14155238886"
